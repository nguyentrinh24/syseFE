<div class="template-form-container">
  <div class="template-form-card">
    <div class="card-header">
      <h2>{{template.id ? 'S·ª≠a' : 'T·∫°o'}} Email Template</h2>
      <p>{{template.id ? 'C·∫≠p nh·∫≠t th√¥ng tin template' : 'T·∫°o template email m·ªõi'}}</p>
    </div>

    <form (ngSubmit)="save()" #f="ngForm" class="template-form">
      <div class="form-section">
        <h3>Th√¥ng tin c∆° b·∫£n</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label for="template-name">T√™n Template *</label>
            <input 
              id="template-name"
              name="name" 
              [(ngModel)]="template.name" 
              placeholder="Nh·∫≠p t√™n template" 
              required 
              class="form-control"
              [class.error]="f.submitted && !template.name"
            />
            <div class="error-message" *ngIf="f.submitted && !template.name">
              T√™n template l√† b·∫Øt bu·ªôc
            </div>
          </div>

          <div class="form-group">
            <label for="template-code">M√£ Template *</label>
            <input 
              id="template-code"
              name="code" 
              [(ngModel)]="template.code" 
              placeholder="Nh·∫≠p m√£ template" 
              required 
              [readonly]="!!template.id"
              class="form-control"
              [class.error]="f.submitted && !template.code"
            />
            <div class="error-message" *ngIf="f.submitted && !template.code">
              M√£ template l√† b·∫Øt bu·ªôc
            </div>
            <small class="help-text" *ngIf="template.id">
              M√£ template kh√¥ng th·ªÉ thay ƒë·ªïi sau khi t·∫°o
            </small>
          </div>
        </div>

        <div class="form-group">
          <label for="template-subject">Ti√™u ƒë·ªÅ Email *</label>
          <input 
            id="template-subject"
            name="subject" 
            [(ngModel)]="template.subject" 
            placeholder="Nh·∫≠p ti√™u ƒë·ªÅ email" 
            required 
            class="form-control"
            [class.error]="f.submitted && !template.subject"
          />
          <div class="error-message" *ngIf="f.submitted && !template.subject">
            Ti√™u ƒë·ªÅ email l√† b·∫Øt bu·ªôc
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3>C·∫•u h√¨nh Template</h3>
        
        <div class="form-group">
          <label for="template-placeholders">Placeholders</label>
          <input 
            id="template-placeholders"
            name="placeholders" 
            [(ngModel)]="placeholdersStr" 
            placeholder="T√™n, Email, S·ªë ƒëi·ªán tho·∫°i (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y)" 
            class="form-control"
          />
          <small class="help-text">
            C√°c bi·∫øn c√≥ th·ªÉ thay th·∫ø trong template, ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y
          </small>
        </div>

        <div class="form-group">
          <label for="template-status">Tr·∫°ng th√°i</label>
          <select 
            id="template-status"
            name="status" 
            [(ngModel)]="template.status" 
            class="form-control"
          >
            <option value="True">B·∫≠t</option>
            <option value="False">T·∫Øt</option>
          </select>
        </div>
      </div>

      <div class="form-section">
        <h3>N·ªôi dung Template</h3>
        
        <div class="form-group">
          <label for="template-content">N·ªôi dung HTML *</label>
          <textarea 
            id="template-content"
            name="content" 
            [(ngModel)]="template.content" 
            placeholder="Nh·∫≠p n·ªôi dung HTML c·ªßa email..." 
            rows="12"
            required
            class="form-control content-textarea"
            [class.error]="f.submitted && !template.content"
          ></textarea>
          <div class="error-message" *ngIf="f.submitted && !template.content">
            N·ªôi dung template l√† b·∫Øt bu·ªôc
          </div>
          <small class="help-text">
            S·ª≠ d·ª•ng HTML ƒë·ªÉ ƒë·ªãnh d·∫°ng email. C√≥ th·ªÉ s·ª≠ d·ª•ng placeholder ƒë·ªÉ ch√®n bi·∫øn.
          </small>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="goBack()">
          <span class="btn-icon">‚Üê</span>
          <span class="btn-text">H·ªßy</span>
        </button>
        <button type="submit" class="save-btn" [disabled]="f.invalid">
          <span class="btn-icon">üíæ</span>
          <span class="btn-text">{{template.id ? 'C·∫≠p nh·∫≠t' : 'T·∫°o'}}</span>
        </button>
      </div>
    </form>
  </div>
</div> 