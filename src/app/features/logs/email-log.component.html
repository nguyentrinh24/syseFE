<div class="email-log-container">
  <div class="email-log-header">
    <div class="header-content">
      <h2>L·ªãch s·ª≠ g·ª≠i email</h2>
      <p>Theo d√µi c√°c email ƒë√£ ƒë∆∞·ª£c g·ª≠i trong h·ªá th·ªëng</p>
    </div>
  </div>

  <div class="filters-section">
    <div class="filter-group">
      <label for="filter-template">L·ªçc theo template</label>
      <input 
        id="filter-template"
        [(ngModel)]="filterTemplate" 
        placeholder="Nh·∫≠p t√™n template..." 
        class="filter-input"
      />
    </div>
    
    <div class="filter-group">
      <label for="filter-from-date">T·ª´ ng√†y</label>
      <input 
        id="filter-from-date"
        [(ngModel)]="fromDate" 
        type="date" 
        class="filter-input"
      />
    </div>
    
    <div class="filter-group">
      <label for="filter-to-date">ƒê·∫øn ng√†y</label>
      <input 
        id="filter-to-date"
        [(ngModel)]="toDate" 
        type="date" 
        class="filter-input"
      />
    </div>
  </div>

  <div class="table-container">
    <table class="email-log-table">
      <thead>
        <tr>
          <th>Email ng∆∞·ªùi nh·∫≠n</th>
          <th>Template</th>
          <th>Tr·∫°ng th√°i</th>
          <th>Th·ªùi gian g·ª≠i</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let l of filteredLogs()" class="table-row">
          <td class="email-to">
            <div class="email-content">
              <span class="email-icon">üìß</span>
              <span class="email-text">{{l.user?.email}}</span>
            </div>
          </td>
          <td class="template-name">
            <span class="template-text">{{l.templateCode}}</span>
          </td>
          <td class="status">
            <span class="status-badge" [class]="getStatusClass(l.status)">
              {{getStatusText(l.status)}}
            </span>
          </td>
          <td class="sent-time">
            <div class="time-content">
              <span class="date-text">{{l.sentAt | date:'dd/MM/yyyy'}}</span>
              <span class="time-text">{{l.sentAt | date:'HH:mm:ss'}}</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="filteredLogs().length === 0" class="empty-state">
      <div class="empty-icon">üìä</div>
      <h3>Kh√¥ng c√≥ d·ªØ li·ªáu</h3>
      <p>Kh√¥ng t√¨m th·∫•y l·ªãch s·ª≠ email n√†o ph√π h·ª£p v·ªõi b·ªô l·ªçc hi·ªán t·∫°i</p>
    </div>
  </div>

  <div class="summary-section" *ngIf="filteredLogs().length > 0">
    <div class="summary-card">
      <div class="summary-item">
        <span class="summary-label">T·ªïng s·ªë email</span>
        <span class="summary-value">{{filteredLogs().length}}</span>
      </div>
      <div class="summary-item">
        <span class="summary-label">Th√†nh c√¥ng</span>
        <span class="summary-value success">{{getSuccessCount()}}</span>
      </div>
      <div class="summary-item">
        <span class="summary-label">Th·∫•t b·∫°i</span>
        <span class="summary-value error">{{getFailureCount()}}</span>
      </div>
    </div>
  </div>
</div> 