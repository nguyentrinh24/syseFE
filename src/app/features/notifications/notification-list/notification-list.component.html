<div class="notification-list-container">
  <div class="notification-list-header">
    <div class="header-content">
      <h2>Notification Templates</h2>
      <p>Qu·∫£n l√Ω c√°c template Notification trong h·ªá th·ªëng</p>
    </div>
    <button class="add-btn" *ngIf="isAdmin" (click)="create()" type="button"> T·∫°o m·ªõi</button>
  </div>

  <!-- Loading state -->
  <div *ngIf="loading" class="loading-state">
    <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="error" class="error-state">
    <p style="color: red;">{{ error }}</p>
    <button (click)="loadNotifications()">Th·ª≠ l·∫°i</button>
  </div>


  <div class="filters-section" *ngIf="!loading && !error">
    <div class="filter-group">
      <input class="filter-input" [(ngModel)]="filterCode" placeholder="L·ªçc theo m√£" (input)="onFilter()" />
    </div>
    <div class="filter-group">
      <select class="filter-select" [(ngModel)]="filterStatus" (ngModelChange)="onFilter()">
        <option value="">Tr·∫°ng th√°i</option>
        <option value="ACTIVE">B·∫≠t</option>
        <option value="INACTIVE">T·∫Øt</option>
      </select>
    </div>
    
  </div>
  <div class="table-container" *ngIf="!loading && !error">
    <table class="notification-table" *ngIf="notifications.length > 0; else emptyBlock">
      <thead>
        <tr>
          <th>T√äN NOTIFICATION</th>
          <th>M√É</th>
          <th>TR·∫†NG TH√ÅI</th>
          <th>NG√ÄY T·∫†O</th>
          <th>H√ÄNH ƒê·ªòNG</th>
        </tr>
      </thead>
      <tbody>
        <tr class="table-row" *ngFor="let n of notifications">
          <td class="notification-name"><span class="name-text">{{n.name}}</span></td>
          <td><span class="code-badge">{{n.code}}</span></td>
          <td><span class="status-badge" [ngClass]="{'active': n.status, 'inactive': !n.status}">{{ n.status ? 'B·∫¨T' : 'T·∫ÆT' }}</span></td>
          <td><span class="date-text">{{n.createdAt | date:'dd/MM/yyyy HH:mm'}}</span></td>
          <td class="template-actions">
            <button class="action-btn" *ngIf="isAdmin" (click)="edit(n)" type="button">S·ª≠a</button>
            <button class="action-btn" *ngIf="isAdmin" (click)="delete(n.id)">X√≥a</button>
            <button class="action-btn" (click)="viewDetail(n)">Chi ti·∫øt</button>
          </td>
        </tr>
      </tbody>
    </table>
    <ng-template #emptyBlock>
      <div class="empty-state">
        <span class="empty-icon">üì≠</span>
        <h3>No notifications found.</h3>
        <p>Try adjusting your filters or add a new notification.</p>
      </div>
    </ng-template>
  </div>
</div> 